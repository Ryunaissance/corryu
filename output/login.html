<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>로그인 — CORRYU</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<script src="/i18n.js"></script>
<style>
:root {
  --bg-primary: #0a0d14;
  --bg-card: rgba(18,22,36,0.95);
  --border: rgba(255,255,255,0.08);
  --text-primary: #e2e8f0;
  --text-muted: #64748b;
  --accent: #3b82f6;
  --accent-glow: rgba(59,130,246,0.3);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: 'Inter', -apple-system, sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  -webkit-font-smoothing: antialiased;
}

/* ── 배경 글로우 ── */
.bg-glow {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none; z-index: 0;
  background:
    radial-gradient(ellipse 600px 400px at 20% 30%, rgba(59,130,246,0.05) 0%, transparent 70%),
    radial-gradient(ellipse 400px 300px at 80% 70%, rgba(139,92,246,0.04) 0%, transparent 70%);
}
.gradient-line {
  position: fixed; top: 0; left: 0; right: 0; height: 3px; z-index: 200;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899, #f59e0b);
}

/* ── 레이아웃 ── */
.page-wrap {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 80px 24px 40px; position: relative; z-index: 1;
}

/* ── 로그인 카드 ── */
.login-card {
  width: 100%; max-width: 420px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 44px 40px 40px;
  position: relative; overflow: hidden;
  box-shadow: 0 24px 80px rgba(0,0,0,0.4);
}
.login-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
}

/* ── 로고 & 타이틀 ── */
.text-gradient {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.card-logo { font-size: 1.4rem; font-weight: 900; text-align: center; margin-bottom: 6px; }
.card-title { text-align: center; font-size: 0.9rem; color: var(--text-muted); margin-bottom: 32px; }

/* ── 소셜 버튼 ── */
.social-btn {
  display: flex; align-items: center; gap: 12px;
  width: 100%; padding: 12px 18px; border-radius: 10px;
  border: 1px solid var(--border); background: rgba(255,255,255,0.04);
  color: var(--text-primary); font-size: 0.875rem; font-weight: 600;
  cursor: pointer; text-decoration: none; transition: all 0.15s;
  font-family: inherit; margin-bottom: 10px; text-align: left;
}
.social-btn:hover { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.18); transform: translateY(-1px); }
.social-btn:last-of-type { margin-bottom: 0; }

.social-icon {
  width: 22px; height: 22px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.social-label { flex: 1; }

/* 카카오 */
.btn-kakao {
  background: #FEE500; border-color: #FEE500; color: #191600;
}
.btn-kakao:hover { background: #f5dc00; border-color: #f5dc00; }

/* 네이버 */
.btn-naver {
  background: #03C75A; border-color: #03C75A; color: #fff;
}
.btn-naver:hover { background: #02b350; border-color: #02b350; }

/* 구글 */
.btn-google { background: rgba(255,255,255,0.06); }

/* ── 구분선 ── */
.divider {
  display: flex; align-items: center; gap: 14px;
  margin: 22px 0; color: var(--text-muted); font-size: 0.75rem;
}
.divider::before, .divider::after {
  content: ''; flex: 1; height: 1px; background: var(--border);
}

/* ── 이메일 폼 ── */
.form-group { margin-bottom: 14px; }
.form-label {
  display: block; font-size: 0.8rem; font-weight: 600;
  color: #94a3b8; margin-bottom: 6px;
}
.form-input {
  width: 100%; padding: 11px 14px; border-radius: 9px;
  background: rgba(255,255,255,0.04); border: 1px solid var(--border);
  color: var(--text-primary); font-size: 0.875rem; font-family: inherit;
  outline: none; transition: border-color 0.15s, background 0.15s;
}
.form-input:focus {
  border-color: rgba(59,130,246,0.5);
  background: rgba(59,130,246,0.04);
}
.form-input::placeholder { color: #374151; }

.forgot-link {
  display: block; text-align: right; font-size: 0.75rem;
  color: var(--text-muted); text-decoration: none; margin-top: -8px; margin-bottom: 20px;
  transition: color 0.15s;
}
.forgot-link:hover { color: #60a5fa; }

/* ── 제출 버튼 ── */
.btn-submit {
  width: 100%; padding: 13px; border-radius: 10px;
  background: var(--accent); border: none; color: white;
  font-size: 0.9rem; font-weight: 700; font-family: inherit;
  cursor: pointer; transition: all 0.15s;
  box-shadow: 0 0 20px rgba(59,130,246,0.25);
}
.btn-submit:hover { background: #2563eb; transform: translateY(-1px); box-shadow: 0 0 32px rgba(59,130,246,0.4); }
.btn-submit:active { transform: translateY(0); }

/* ── 하단 링크 ── */
.card-footer-links {
  display: flex; justify-content: center; gap: 20px;
  margin-top: 24px; font-size: 0.8rem;
}
.card-footer-links a { color: var(--text-muted); text-decoration: none; transition: color 0.15s; }
.card-footer-links a:hover { color: #60a5fa; }

/* ── 탭 전환 (로그인 / 회원가입) ── */
.tab-bar {
  display: flex; gap: 0; margin-bottom: 28px;
  border: 1px solid var(--border); border-radius: 10px; overflow: hidden;
}
.tab-btn {
  flex: 1; padding: 10px; background: transparent; border: none;
  color: var(--text-muted); font-size: 0.85rem; font-weight: 600;
  cursor: pointer; font-family: inherit; transition: all 0.15s;
}
.tab-btn.active { background: rgba(59,130,246,0.15); color: #60a5fa; }
.tab-btn:hover:not(.active) { color: var(--text-primary); background: rgba(255,255,255,0.04); }

/* ── 법적 고지 ── */
.legal-text {
  text-align: center; font-size: 0.72rem; color: var(--text-muted);
  margin-top: 20px; line-height: 1.6;
}
.legal-text a { color: var(--text-muted); text-decoration: underline; }

/* ── Toast 알림 ── */
.toast {
  position: fixed; bottom: 28px; left: 50%; transform: translateX(-50%) translateY(8px);
  background: rgba(30,36,52,0.97); border: 1px solid rgba(255,255,255,0.1);
  color: var(--text-primary); padding: 12px 20px; border-radius: 10px;
  font-size: 0.82rem; font-weight: 500; white-space: nowrap;
  opacity: 0; transition: all 0.25s; pointer-events: none; z-index: 1000;
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
}
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

/* ── 뒤로 가기 ── */
.back-link {
  position: fixed; top: 20px; left: 24px; z-index: 100;
  display: flex; align-items: center; gap: 6px;
  color: var(--text-muted); font-size: 0.82rem; text-decoration: none;
  transition: color 0.15s;
}
.back-link:hover { color: var(--text-primary); }

@media (max-width: 480px) {
  .login-card { padding: 36px 24px 32px; }
}
</style>
</head>
<body>

<div class="gradient-line"></div>
<div class="bg-glow"></div>

<!-- 뒤로가기 -->
<a href="/landing" class="back-link">
  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 12H5M12 5l-7 7 7 7"/></svg>
  홈으로
</a>

<!-- 언어 스위처 -->
<button id="lang-switcher"
  onclick="I18n.setLocale(I18n.locale()==='ko'?'en':'ko')"
  style="position:fixed;top:16px;right:20px;z-index:100;
         padding:5px 12px;border-radius:7px;
         background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);
         color:#94a3b8;font-size:0.78rem;font-weight:700;cursor:pointer;
         font-family:inherit;transition:all 0.15s;"
  onmouseover="this.style.background='rgba(255,255,255,0.1)'"
  onmouseout="this.style.background='rgba(255,255,255,0.05)'">EN</button>

<!-- ── 로그인 카드 ── -->
<div class="page-wrap">
  <div class="login-card">

    <!-- 로고 -->
    <div class="card-logo"><span class="text-gradient">CORRYU</span></div>
    <div class="card-title">계속하려면 로그인하세요</div>

    <!-- 탭: 로그인 / 회원가입 -->
    <div class="tab-bar">
      <button class="tab-btn active" onclick="switchTab('login', this)">로그인</button>
      <button class="tab-btn" onclick="switchTab('signup', this)">회원가입</button>
    </div>

    <!-- ── 소셜 로그인 ── -->
    <button class="social-btn btn-google" onclick="socialLogin('Google')">
      <span class="social-icon">
        <!-- Google SVG 로고 -->
        <svg width="18" height="18" viewBox="0 0 48 48">
          <path fill="#EA4335" d="M24 9.5c3.5 0 6.6 1.2 9.1 3.2l6.8-6.8C35.8 2.5 30.3 0 24 0 14.8 0 6.9 5.4 3 13.3l7.9 6.1C12.8 13 17.9 9.5 24 9.5z"/>
          <path fill="#4285F4" d="M46.5 24.5c0-1.6-.1-3.1-.4-4.5H24v8.5h12.7c-.6 3-2.3 5.5-4.8 7.2l7.5 5.8c4.4-4 7.1-10 7.1-17z"/>
          <path fill="#FBBC05" d="M10.9 28.6A14.5 14.5 0 0 1 9.5 24c0-1.6.3-3.2.8-4.6L2.4 13.3A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.6 10.7l8.3-6.1z"/>
          <path fill="#34A853" d="M24 48c6.2 0 11.4-2 15.2-5.5l-7.5-5.8c-2 1.4-4.6 2.2-7.7 2.2-6.1 0-11.2-4-13.1-9.4l-8 6.2C6.8 42.5 14.8 48 24 48z"/>
        </svg>
      </span>
      <span class="social-label">Google로 계속하기</span>
    </button>

    <button class="social-btn btn-kakao" onclick="socialLogin('Kakao')">
      <span class="social-icon">
        <!-- Kakao 로고 -->
        <svg width="20" height="19" viewBox="0 0 24 23" fill="#191600">
          <path d="M12 0C5.4 0 0 4.2 0 9.3c0 3.3 2.1 6.2 5.3 7.9L4 22.5l6.3-4.2c.6.1 1.1.1 1.7.1 6.6 0 12-4.2 12-9.3S18.6 0 12 0z"/>
        </svg>
      </span>
      <span class="social-label">카카오로 계속하기</span>
    </button>

    <button class="social-btn btn-naver" onclick="socialLogin('Naver')">
      <span class="social-icon">
        <!-- Naver 로고 -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="white">
          <path d="M16.3 12.6L7.2 0H0v24h7.7V11.4L16.8 24H24V0h-7.7z"/>
        </svg>
      </span>
      <span class="social-label">네이버로 계속하기</span>
    </button>

    <!-- 구분선 -->
    <div class="divider">또는 이메일로</div>

    <!-- ── 이메일 폼 ── -->
    <form id="email-form" onsubmit="emailLogin(event)">
      <div class="form-group">
        <label class="form-label" for="email">이메일</label>
        <input type="email" id="email" class="form-input"
          placeholder="name@example.com" autocomplete="email" required>
      </div>

      <div class="form-group" id="name-group" style="display:none">
        <label class="form-label" for="name">이름</label>
        <input type="text" id="name" class="form-input" placeholder="홍길동" autocomplete="name">
      </div>

      <div class="form-group">
        <label class="form-label" for="password">비밀번호</label>
        <input type="password" id="password" class="form-input"
          placeholder="••••••••" autocomplete="current-password" required minlength="8">
      </div>

      <a href="#" class="forgot-link" id="forgot-link" onclick="forgotPassword(event)">비밀번호를 잊으셨나요?</a>

      <button type="submit" class="btn-submit" id="submit-btn">로그인</button>
    </form>

    <!-- 하단 링크 -->
    <div class="card-footer-links">
      <a href="/landing">홈으로</a>
      <a href="/index">둘러보기</a>
    </div>

    <!-- 법적 고지 -->
    <p class="legal-text">
      계속 진행하면 CORRYU의
      <a href="#">서비스 약관</a> 및 <a href="#">개인정보 처리방침</a>에 동의하는 것으로 간주됩니다.
    </p>

  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ── 탭 전환 (로그인 / 회원가입) ───────────────────────
let currentTab = 'login';

function switchTab(tab, el) {
  currentTab = tab;
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');

  const nameGroup  = document.getElementById('name-group');
  const forgotLink = document.getElementById('forgot-link');
  const submitBtn  = document.getElementById('submit-btn');
  const passInput  = document.getElementById('password');

  if (tab === 'signup') {
    nameGroup.style.display  = 'block';
    forgotLink.style.display = 'none';
    submitBtn.textContent    = '계정 만들기';
    passInput.setAttribute('placeholder', '8자 이상의 비밀번호');
    passInput.setAttribute('autocomplete', 'new-password');
  } else {
    nameGroup.style.display  = 'none';
    forgotLink.style.display = 'block';
    submitBtn.textContent    = '로그인';
    passInput.setAttribute('placeholder', '••••••••');
    passInput.setAttribute('autocomplete', 'current-password');
  }
}

// ── 소셜 로그인 (Supabase 연결 후 구현) ──────────────
function socialLogin(provider) {
  // TODO: Supabase OAuth
  // supabase.auth.signInWithOAuth({ provider: provider.toLowerCase() })
  showToast(provider + ' 로그인은 Supabase 연결 후 활성화됩니다.');
}

// ── 이메일 로그인 / 회원가입 ──────────────────────────
function emailLogin(e) {
  e.preventDefault();
  const email    = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  if (currentTab === 'signup') {
    // TODO: supabase.auth.signUp({ email, password })
    showToast('회원가입은 Supabase 연결 후 활성화됩니다.');
  } else {
    // TODO: supabase.auth.signInWithPassword({ email, password })
    showToast('이메일 로그인은 Supabase 연결 후 활성화됩니다.');
  }
}

// ── 비밀번호 찾기 ─────────────────────────────────────
function forgotPassword(e) {
  e.preventDefault();
  const email = document.getElementById('email').value;
  if (!email) { showToast('먼저 이메일을 입력해주세요.'); return; }
  // TODO: supabase.auth.resetPasswordForEmail(email)
  showToast('비밀번호 재설정은 Supabase 연결 후 활성화됩니다.');
}

// ── Toast 알림 ────────────────────────────────────────
let _toastTimer;
function showToast(msg, ms = 3500) {
  const el = document.getElementById('toast');
  el.textContent = msg;
  el.classList.add('show');
  clearTimeout(_toastTimer);
  _toastTimer = setTimeout(() => el.classList.remove('show'), ms);
}

// ── i18n 초기화 ───────────────────────────────────────
window.addEventListener('DOMContentLoaded', () => {
  I18n.init();
});
</script>
</body>
</html>
